"use strict";(self.webpackChunkrail_map_generator=self.webpackChunkrail_map_generator||[]).push([[4555],{4990:function(r,t,e){e.r(t);var n=e(1413),a=e(5987),i=e(9439),c=e(3433),s=e(2791),l=e(5459),u=e(713),o=e(6169),f=e(184),m=["num"];t.default=(0,s.memo)((function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d,{}),(0,f.jsx)(l.Z,{stripPc:90}),(0,f.jsx)(g,{})]})}));var d=(0,s.memo)((function(){return(0,f.jsx)("defs",{children:(0,f.jsx)("path",{id:"arrow",d:"M60,60L0,0L60-60H100L55-15H160V15H55L100,60z",fill:"var(--rmg-black,#000)"})})})),g=function(){var r,t=(0,o.CG)((function(r){return r.helper.routes})),e=(0,o.CG)((function(r){return r.param.svgWidth})),n=(0,o.CG)((function(r){return r.param.direction})),a=(0,o.CG)((function(r){return r.param.customiseMTRDest})),l=(0,o.CG)((function(r){return r.param.platform_num})),m=(0,o.CG)((function(r){return r.param.line_name})),d=(0,o.CG)((function(r){return r.param.current_stn_idx})),g=(0,o.CG)((function(r){return r.param.stn_list}));if(!1!==a.terminal)r=a.terminal;else{var p=(0,c.Z)(new Set(t.filter((function(r){return r.includes(d)})).map((function(r){return r.filter((function(r){return!["linestart","lineend"].includes(r)})).slice(n===u.wA.left?0:-1)[0]})).filter((function(r){return r!==d}))));r=[p.map((function(r){return g[r].name[0]})).join("/"),p.map((function(r){return g[r].name[1]})).join("/").replace("\\"," ")]}var x=s.useRef(null),v=s.useState({width:0}),j=(0,i.Z)(v,2),_=j[0],w=j[1];s.useEffect((function(){return w(x.current.getBBox())}),[r.toString(),a.isLegacy]);var C=310+_.width+45+50,Z=(e[u.Ht.Destination]-(n===u.wA.left?1:-1)*C)/2,y=Z+285*(n===u.wA.left?1:-1),A=y+120*(n===u.wA.left?1:-1);return(0,f.jsxs)("g",{id:"dest_name",style:{transform:"translateY(calc(var(--rmg-svg-height) / 2 - 20px))"},children:[(0,f.jsx)("use",{xlinkHref:"#arrow",transform:"translate(".concat(Z,",0)rotate(").concat(n===u.wA.left?0:180,")")}),(0,f.jsx)(h,{num:l,transform:"translate(".concat(y,",0)")}),(0,f.jsxs)("g",{ref:x,textAnchor:n===u.wA.left?"start":"end",transform:"translate(".concat(A,",-25)"),fill:"var(--rmg-black)",children:[(0,f.jsx)("text",{className:"rmg-name__zh",fontSize:90,children:(a.isLegacy?m[0]:"")+"\u5f80"+r[0]}),(0,f.jsx)("text",{className:"rmg-name__en",fontSize:45,dy:80,children:(a.isLegacy?m[1]+" ":"")+"to "+r[1]})]})]})},h=function(r){var t=r.num,e=(0,a.Z)(r,m);return(0,f.jsx)("g",(0,n.Z)((0,n.Z)({id:"platform"},e),{},{children:s.useMemo((function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("circle",{cx:0,cy:0,r:75,fill:"var(--rmg-theme-colour)"}),(0,f.jsx)("text",{className:"rmg-name__zh",dy:0,textAnchor:"middle",fontSize:135,fill:"#fff",children:t})]})}),[t])}))}},5459:function(r,t,e){var n=e(4942),a=e(2791),i=e(184);t.Z=(0,a.memo)((function(r){var t;return(0,i.jsx)("rect",{fill:"var(--rmg-theme-colour)",height:20,style:(t={width:"var(--rmg-svg-width)"},(0,n.Z)(t,"--strip-percentage",r.stripPc),(0,n.Z)(t,"transform","translateY(calc(var(--strip-percentage, 95) * var(--rmg-svg-height) / 100 - 10px))"),t)})}))}}]);
//# sourceMappingURL=destinationMTR.53c1e23c.chunk.js.map