{"version":3,"file":"static/js/runinSHMetro.9ed56e2b.chunk.js","mappings":"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","sources":["svgs/runin/runin-shmetro.tsx"],"sourcesContent":["import React, { useMemo, memo } from 'react';\nimport { Name } from '../../constants/constants';\nimport { useAppSelector } from '../../redux';\n\nconst RunInSHMetro = () => {\n    const { routes } = useAppSelector(store => store.helper);\n    const param = useAppSelector(store => store.param);\n\n    // get the height\n    const dh = param.svg_height - 300;\n\n    const prevStnIds = useMemo(\n        () => {\n            // reduce from https://stackoverflow.com/questions/43773999/remove-duplicates-from-arrays-using-reduce\n            // and https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\n            return (\n                routes\n                    .filter(route => route.includes(param.current_stn_idx))\n                    .map(route => route[route.indexOf(param.current_stn_idx) + (param.direction === 'l' ? 1 : -1)])\n                    // .flat()\n                    // remove duplicate\n                    .reduce((acc, cur) => (acc.includes(cur) ? acc : acc.concat(cur)), [] as string[])\n            );\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [routes.toString(), param.current_stn_idx, param.direction]\n    );\n\n    const nextStnIds = useMemo(\n        () =>\n            routes\n                .filter(route => route.includes(param.current_stn_idx))\n                .map(route => route[route.indexOf(param.current_stn_idx) + (param.direction === 'l' ? -1 : 1)])\n                // .flat()\n                // remove duplicate\n                .reduce((acc, cur) => (acc.includes(cur) ? acc : acc.concat(cur)), [] as string[]),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [routes.toString(), param.current_stn_idx, param.direction]\n    );\n\n    return (\n        <>\n            <DefsSHMetro />\n            <g transform={`translate(0,${dh})`}>\n                <GeneralStation prevStnIds={prevStnIds} nextStnIds={nextStnIds} />\n            </g>\n        </>\n    );\n};\n\nexport default RunInSHMetro;\n\nconst DefsSHMetro = memo(() => (\n    <defs>\n        {/* An extension of the line/path. Remember to minus the stroke-width.  */}\n        <marker id=\"slope\" viewBox=\"-1.5 0 3 1.5\" refY={0.5}>\n            <path d=\"M0,0L1,1H-1z\" fill=\"var(--rmg-theme-colour)\" />\n        </marker>\n\n        {/* Outline filter of white pass color in Pujiang Line */}\n        <filter\n            id=\"pujiang_outline_runin\"\n            colorInterpolationFilters=\"sRGB\"\n            // TODO: remove the absolute value while make the filter works correctly\n            filterUnits=\"userSpaceOnUse\"\n            x=\"0\"\n            y=\"-1000\"\n            width=\"5000\"\n            height=\"2000\"\n        >\n            <feMorphology operator=\"erode\" in=\"SourceAlpha\" radius=\"0\" result=\"e1\" />\n            <feMorphology operator=\"erode\" in=\"SourceAlpha\" radius=\"1\" result=\"e2\" />\n            <feComposite in=\"e1\" in2=\"e2\" operator=\"xor\" result=\"outline\" />\n            <feComposite in=\"outline\" in2=\"SourceGraphic\" operator=\"over\" result=\"output\" />\n        </filter>\n    </defs>\n));\n\ninterface RunInGeneralProps {\n    prevStnIds: string[];\n    nextStnIds: string[];\n}\n\nconst GeneralStation = (props: RunInGeneralProps) => {\n    const param = useAppSelector(store => store.param);\n    const middle = param.svgWidth.runin / 2;\n\n    const termianl = props.nextStnIds.length === 1 && ['linestart', 'lineend'].includes(props.nextStnIds[0]);\n    const original = props.prevStnIds.length === 1 && ['linestart', 'lineend'].includes(props.prevStnIds[0]);\n\n    const nextNames = props.nextStnIds.map(stnId => param.stn_list[stnId].name);\n    const nextBranchLineDy =\n        (props.nextStnIds.length > 1\n            ? (nextNames[0][0].split('\\\\').length - 1) * -50 + (nextNames[0][1].split('\\\\').length - 1) * -30\n            : 0) + 10;\n    const prevNames = props.prevStnIds.map(stnId => param.stn_list[stnId].name);\n    const prevBranchLineDy =\n        (props.prevStnIds.length > 1\n            ? (prevNames[0][0].split('\\\\').length - 1) * -50 + (prevNames[0][1].split('\\\\').length - 1) * -30\n            : 0) + 10;\n\n    return (\n        <>\n            <g transform=\"translate(0,110)\" strokeWidth={12} fill=\"none\">\n                {props.nextStnIds.length > 1 && (\n                    <path\n                        stroke=\"var(--rmg-theme-colour)\"\n                        d={\n                            param.direction === 'l'\n                                ? `M${param.svgWidth.runin / 3},125 L${\n                                      param.svgWidth.runin / 6\n                                  },${nextBranchLineDy} H36`\n                                : `M${(param.svgWidth.runin / 3) * 2},125 L${\n                                      (param.svgWidth.runin / 6) * 5\n                                  },${nextBranchLineDy} H${param.svgWidth.runin - 36}`\n                        }\n                        markerEnd=\"url(#slope)\"\n                    />\n                )}\n                {props.prevStnIds.length > 1 && (\n                    <g filter={param.theme[2] === '#999999' ? 'url(#pujiang_outline_railmap)' : undefined}>\n                        <path\n                            stroke=\"var(--rmg-grey)\"\n                            d={\n                                param.direction === 'l'\n                                    ? `M${(param.svgWidth.runin / 3) * 2},125 L${\n                                          (param.svgWidth.runin / 6) * 5\n                                      },${prevBranchLineDy} H${param.svgWidth.runin - 24}`\n                                    : `M${param.svgWidth.runin / 3},125 L${\n                                          param.svgWidth.runin / 6\n                                      },${prevBranchLineDy} H24`\n                            }\n                        />\n                    </g>\n                )}\n            </g>\n\n            {termianl && param.info_panel_type !== 'sh2020' ? (\n                <>\n                    <g filter={param.theme[2] === '#999999' ? 'url(#pujiang_outline_railmap)' : undefined}>\n                        <path\n                            transform=\"translate(0,220)\"\n                            stroke=\"var(--rmg-grey)\"\n                            strokeWidth={12}\n                            d={`M24,16 H ${param.svgWidth.runin - 24}`}\n                        />\n                    </g>\n\n                    <g\n                        transform={`translate(${param.direction === 'l' ? 36 : param.svgWidth.runin - 36},160)`}\n                        textAnchor={param.direction === 'l' ? 'start' : 'end'}\n                    >\n                        <CurrentText />\n                    </g>\n                </>\n            ) : original && param.info_panel_type !== 'sh2020' ? (\n                <>\n                    <path\n                        transform=\"translate(0,220)\"\n                        stroke=\"var(--rmg-theme-colour)\"\n                        strokeWidth={12}\n                        d={\n                            param.direction === 'l'\n                                ? `M ${param.svgWidth.runin - 24},16 H 36`\n                                : `M24,16 H ${param.svgWidth.runin - 36}`\n                        }\n                        markerEnd=\"url(#slope)\"\n                    />\n\n                    <g\n                        transform={`translate(${param.direction === 'l' ? param.svgWidth.runin - 36 : 36},160)`}\n                        textAnchor={param.direction === 'l' ? 'end' : 'start'}\n                    >\n                        <CurrentText />\n                    </g>\n                </>\n            ) : (\n                <>\n                    <g transform=\"translate(0,220)\" strokeWidth={12}>\n                        <path\n                            stroke=\"var(--rmg-theme-colour)\"\n                            d={`M ${middle},16 H ${param.direction === 'l' ? 36 : param.svgWidth.runin - 36}`}\n                            markerEnd=\"url(#slope)\"\n                        />\n                        <g filter={param.theme[2] === '#999999' ? 'url(#pujiang_outline_railmap)' : undefined}>\n                            <path\n                                stroke=\"var(--rmg-grey)\"\n                                d={`M ${middle},16 H ${param.direction === 'l' ? param.svgWidth.runin - 24 : 24} `}\n                            />\n                        </g>\n                    </g>\n\n                    <g transform={`translate(${middle},160)`} textAnchor=\"middle\">\n                        <CurrentText />\n                    </g>\n                </>\n            )}\n\n            {(original || !termianl) && <NextStn stnIds={props.nextStnIds} />}\n            {(termianl || !original) && <PrevStn stnIds={props.prevStnIds} />}\n        </>\n    );\n};\n\nconst CurrentText = () => {\n    const param = useAppSelector(store => store.param);\n    const { name } = param.stn_list[param.current_stn_idx];\n    return useMemo(\n        () => (\n            <>\n                <text className=\"rmg-name__zh\" fontSize={112}>\n                    {name[0]}\n                </text>\n                <text className=\"rmg-name__en\" fontSize={36} dy={50}>\n                    {name[1].replace('\\\\', ' ')}\n                </text>\n            </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [...name]\n    );\n};\n\nconst NextText = (props: { nextName: Name } & React.SVGProps<SVGGElement>) => {\n    const { nextName, ...others } = props;\n    return (\n        <g {...others}>\n            {useMemo(\n                () => (\n                    <>\n                        {nextName[0].split('\\\\').map((name, i, array) => (\n                            <text\n                                className=\"rmg-name__zh\"\n                                fontSize={48}\n                                key={name}\n                                dy={(array.length - 1 - i) * -50 - (nextName[1].split('\\\\').length - 1) * 30}\n                            >\n                                {name}\n                            </text>\n                        ))}\n                        {nextName[1].split('\\\\').map((name, i, array) => (\n                            <text\n                                className=\"rmg-name__en\"\n                                fontSize={24}\n                                key={name}\n                                dy={28 + (array.length - 1 - i) * -30}\n                            >\n                                {name}\n                            </text>\n                        ))}\n                    </>\n                ),\n                // eslint-disable-next-line react-hooks/exhaustive-deps\n                [...nextName]\n            )}\n        </g>\n    );\n};\n\nconst PrevStn = (props: { stnIds: string[] }) => {\n    const param = useAppSelector(store => store.param);\n    const nextNames = props.stnIds.map(stnId => param.stn_list[stnId].name);\n    const prevHintDy =\n        (props.stnIds.length > 1 ? 15 : 125) +\n        nextNames.map(name => name[0].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -50 +\n        nextNames.map(name => name[1].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -30;\n    const nextBranchTextDy =\n        (props.stnIds.length > 1\n            ? (nextNames[0][0].split('\\\\').length - 1) * -50 + (nextNames[0][1].split('\\\\').length - 1) * -30\n            : 0) + 70;\n\n    return (\n        <g\n            fill=\"gray\"\n            textAnchor={param.direction === 'l' ? 'end' : 'start'}\n            transform={`translate(${param.direction === 'l' ? param.svgWidth.runin - 36 : 36},0)`}\n        >\n            <NextText nextName={nextNames[0]} transform=\"translate(0,183)\" />\n            {props.stnIds.length > 1 && (\n                <NextText nextName={nextNames[1]} transform={`translate(0,${nextBranchTextDy})`} />\n            )}\n            <g transform={`translate(0, ${prevHintDy})`}>\n                <text className=\"rmg-name__zh\" fontSize={22}>\n                    上一站\n                </text>\n                <text className=\"rmg-name__en\" fontSize={12} dx={param.direction === 'l' ? -70 : 70}>\n                    Past Stop\n                </text>\n            </g>\n        </g>\n    );\n};\n\nconst NextStn = (props: { stnIds: string[] }) => {\n    const param = useAppSelector(store => store.param);\n    const nextNames = props.stnIds.map(stnId => param.stn_list[stnId].name);\n    const nextHintDy =\n        (props.stnIds.length > 1 ? 15 : 125) +\n        nextNames.map(name => name[0].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -50 +\n        nextNames.map(name => name[1].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -30;\n    const nextBranchTextDy =\n        (props.stnIds.length > 1\n            ? (nextNames[0][0].split('\\\\').length - 1) * -50 + (nextNames[0][1].split('\\\\').length - 1) * -30\n            : 0) + 70;\n\n    return (\n        <g\n            textAnchor={param.direction === 'l' ? 'start' : 'end'}\n            transform={`translate(${param.direction === 'l' ? 36 : param.svgWidth.runin - 36},0)`}\n        >\n            <NextText nextName={param.stn_list[props.stnIds[0]].name} transform=\"translate(0,183)\" />\n            {props.stnIds.length > 1 && (\n                <NextText\n                    nextName={param.stn_list[props.stnIds[1]].name}\n                    transform={`translate(0,${nextBranchTextDy})`}\n                />\n            )}\n            <g transform={`translate(0, ${nextHintDy})`}>\n                <text className=\"rmg-name__zh\" fontSize={22}>\n                    下一站\n                </text>\n                <text className=\"rmg-name__en\" fontSize={12} dx={param.direction === 'l' ? 70 : -70}>\n                    Next Stop\n                </text>\n            </g>\n        </g>\n    );\n};\n"],"names":["routes","useAppSelector","store","helper","param","dh","svg_height","prevStnIds","useMemo","filter","route","includes","current_stn_idx","map","indexOf","direction","reduce","acc","cur","concat","toString","nextStnIds","DefsSHMetro","transform","GeneralStation","memo","id","viewBox","refY","d","fill","colorInterpolationFilters","filterUnits","x","y","width","height","operator","in","radius","result","in2","props","middle","svgWidth","runin","termianl","length","original","nextNames","stnId","stn_list","name","nextBranchLineDy","split","prevNames","prevBranchLineDy","strokeWidth","stroke","markerEnd","theme","undefined","info_panel_type","textAnchor","CurrentText","NextStn","stnIds","PrevStn","className","fontSize","dy","replace","NextText","nextName","others","i","array","prevHintDy","nextBranchTextDy","dx","nextHintDy"],"sourceRoot":""}