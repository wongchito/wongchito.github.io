"use strict";(self.webpackChunkrail_map_generator=self.webpackChunkrail_map_generator||[]).push([[3957],{3824:function(t,n,e){e.d(n,{Az:function(){return h},QE:function(){return f},ML:function(){return d},h6:function(){return m},LD:function(){return x},pS:function(){return g}});var r=e(9439),i=e(5671),c=e(3144),a=e(3433),s=e(7762),o=e(4942),l=e(1413),u=e(713),h=function(t,n,e){return Object.keys(t).reduce((function(r,i){return(0,l.Z)((0,l.Z)({},r),{},(0,o.Z)({},i,t[i].children.reduce((function(r,c){return(0,l.Z)((0,l.Z)({},r),{},(0,o.Z)({},c,1+n(t,c)+e(t,i)))}),{})))}),{})},f=function t(n,e,r){if(n===e)return{len:0,nodes:[n]};var i=[],c=[];Object.keys(r[n]).forEach((function(a){var s=t(a,e,r);s.len<0||(i.push(r[n][a]+s.len),s.nodes.unshift(n),c.push(s.nodes))}));var a=Math.max.apply(Math,i);return{len:a,nodes:c[i.indexOf(a)]}},d=function(t,n,e){var r=f("linestart","lineend",n);if(r.nodes.includes(t))return f(r.nodes[1],t,n).len;for(var i=e.filter((function(n){return n.includes(t)}))[0],c=t;!r.nodes.includes(c);)c=i[i.indexOf(c)-1];for(var a=t;!r.nodes.includes(a);)a=i[i.indexOf(a)+1];var s="linestart"===c,o=[];return s||"lineend"===a?s?(o[0]=0,o[1]=f(r.nodes[1],a,n).len,o[2]=f(i[1],t,n).len,o[3]=f(t,a,n).len):(o[0]=f(r.nodes[1],c,n).len,o[1]=f(c,r.nodes.slice(-2)[0],n).len,o[2]=f(c,t,n).len,o[3]=f(t,i.slice(-2)[0],n).len):(o[0]=f(r.nodes[1],c,n).len,o[1]=f(c,a,n).len,o[2]=f(c,t,n).len,o[3]=f(t,a,n).len),o[0]+o[2]*o[1]/(o[2]+o[3])},m=function(t,n,e){var r;return console.log("computing stations' states"),(0,a.Z)(new Set((r=[]).concat.apply(r,(0,a.Z)(n)))).reduce((function(r,i){return(0,l.Z)((0,l.Z)({},r),{},(0,o.Z)({},i,i===t?0:(e===u.wA.right?function(t,n,e){var r,i=(0,s.Z)(e);try{for(i.s();!(r=i.n()).done;){var c=r.value,a=c.indexOf(t),o=c.indexOf(n);if(-1!==a&&a<o)return!0}}catch(l){i.e(l)}finally{i.f()}return!1}(t,i,n):function(t,n,e){var r,i=(0,s.Z)(e);try{for(i.s();!(r=i.n()).done;){var c=r.value,a=c.indexOf(t),o=c.indexOf(n);if(-1!==o&&o<a)return!0}}catch(l){i.e(l)}finally{i.f()}return!1}(t,i,n))?1:-1))}),{})},x=function(){function t(n){var e=this;(0,i.Z)(this,t),this.yShares={},this.xShares={},this.namePoss={},this.stnList={},this.criticalPath={},this.leftWideFactor=function(t){return 0},this.rightWideFactor=function(t){return 0},this.pathWeight=function(t,n){return e.stnList[t].children.includes(n)?1+e.rightWideFactor(t)+e.leftWideFactor(n):-1/0},this.pathTurnParams=function(t){var n=35-17.5*Math.sqrt(3),e=t-2*n;return{tr:35,dx_a:17.5,dy_a:n,dx_l:e*Math.sqrt(3),dy_l:e}},this.pathTurnSE=function(t){var n=e.pathTurnParams(t),r=n.tr,i=n.dx_a,c=n.dy_a,a=n.dx_l,s=n.dy_l;return"a ".concat(r,",").concat(r," 0 0,1 ").concat(i,",").concat(c," l ").concat(a,",").concat(s," a ").concat(r,",").concat(r," 0 0,0 ").concat(i,",").concat(c)},this.pathTurnNE=function(t){var n=e.pathTurnParams(t),r=n.tr,i=n.dx_a,c=n.dy_a,a=n.dx_l,s=n.dy_l;return"a ".concat(r,",").concat(r," 0 0,0 ").concat(i,",").concat(-c," l ").concat(a,",").concat(-s," a ").concat(r,",").concat(r," 0 0,1 ").concat(i,",").concat(-c)},this.stnList=n.stnList,this.criticalPath=n.criticalPath}return(0,c.Z)(t,[{key:"getYShare",value:function(t,n){if(t in this.yShares)return this.yShares[t];if(["linestart","lineend"].includes(t)||this.stnList[t].parents.length>1||this.stnList[t].children.length>1)return this.yShares[t]=0,0;var e=this.stnList[t].parents[0];if(e){if(1===this.stnList[e].children.length){var r=this.getYShare(e);return this.yShares[t]=r,r}var i=0===this.stnList[e].children.indexOf(t)?1:-1;return this.yShares[t]=i,i}return this.yShares[t]=0,0}},{key:"_linePath",value:function(t,n,e,i,c,a,s,o){var l=this,u=(0,r.Z)([],3),h=u[0],f=u[1],d=u[2],m=[],x=this.pathTurnParams(a),g=x.dx_a+x.dx_l/2,p=(n[1]-n[0])/s.len*2,j=((n[1]-n[0])/s.len-2*g)/2;return j+p<0&&console.warn("SVG width too small! ".concat(j+p)),t.forEach((function(n){var r=i[n],s=c[n];if(!f&&0!==f)return h=n,d=r,f=s,void(1===t.length?m.push("M ".concat(r,",").concat(s)):e[0].includes(n)?e[0].includes(t[1])?m.push("M ".concat(r,",").concat(s)):(i[t[1]]>0&&m.push("M ".concat(r,",").concat(s+o)),c[t[1]]<0&&m.push("M ".concat(r,",").concat(s-o))):m.push("M ".concat(r,",").concat(s)));s>f?(m.push("h ".concat(0===s?r-d-p*l.leftWideFactor(n)-j-2*g:p*l.rightWideFactor(h)+j)),m.push(l.pathTurnSE(a))):s<f&&(m.push("h ".concat(0===s?r-d-p*l.leftWideFactor(n)-j-2*g:p*l.rightWideFactor(h)+j)),m.push(l.pathTurnNE(a))),m.push("H ".concat(r)),h=n,d=r,f=s})),m.join(" ").replace(/( H ([\d.]+))+/g," H $2")}}],[{key:"getYShares",value:function(t,n){console.log("computing y shares");var e=new this({stnList:t});return Object.keys(t).forEach((function(t){["linestart","lineend"].includes(t)||t in e.yShares||e.getYShare(t,n)})),e.yShares}},{key:"drawLine",value:function(t,n,e,r,i,c,a,s){var o=this,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:9.68,u={main:[],pass:[]};return t.forEach((function(h,f){var d=(h=h.filter((function(t){return!["linestart","lineend"].includes(t)}))).filter((function(t){return n[t]>=0})),m=h.filter((function(t){return n[t]<=0}));1===d.length&&(m=h),0===d.filter((function(t){return-1!==m.indexOf(t)})).length&&d.length&&(m[0]===h[0]?m.push(d[0]):d[0]===h[0]&&d[d.length-1]===h[h.length-1]&&m.length?(m=h,d=[]):m.unshift(d[d.length-1])),u.main.push(new o({stnList:e,criticalPath:s})._linePath(d,r,t,i,c,a,s,l)),u.pass.push(new o({stnList:e,criticalPath:s})._linePath(m,r,t,i,c,a,s,l))})),u}}]),t}(),g=function(t,n){var e={main:[],pass:[]};return t.forEach((function(t){var r=(t=t.filter((function(t){return!["linestart","lineend"].includes(t)}))).filter((function(t){return n[t]>=0})),i=t.filter((function(t){return n[t]<=0}));1===r.length&&(i=t),0===r.filter((function(t){return-1!==i.indexOf(t)})).length&&r.length&&(i[0]===t[0]?i.push(r[0]):r[0]===t[0]&&r[r.length-1]===t[t.length-1]&&i.length?(i=t,r=[]):i.unshift(r[r.length-1])),e.main.push(r),e.pass.push(i)})),e}},7809:function(t,n,e){e.r(n),e.d(n,{default:function(){return C}});var r=e(2791),i=e(9439),c=e(4942),a=e(1413),s=e(3824),o=e(5987),l=e(3433),u=e(713),h=e(6169),f=e(184),d=["stnName"],m=["intInfos","direction"],x=function(t){var n=(0,h.CG)((function(t){return t.param})),e=n.stn_list[t.stnId],r=([].concat((0,l.Z)(e.branch.left),(0,l.Z)(e.branch.right)).length?8+12*e.name[1].split("\\").length:0)*("r"===n.direction?-1:1),i="",c={};return"sh2020"===n.info_panel_type?(i=3===e.services.length?"stn_sh_2020_direct":2===e.services.length?"stn_sh_2020_express":"stn_sh_2020",c.fill=-1===t.stnState?"gray":"var(--rmg-theme-colour)"):(i=3===e.services.length?"direct_sh":2===e.services.length?"express_sh":[].concat((0,l.Z)(e.transfer.info[0]),(0,l.Z)(e.transfer.info[1]||[])).length>0?"int2_sh":"stn_sh",c.stroke=-1===t.stnState?"gray":"var(--rmg-theme-colour)"),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("use",(0,a.Z)({xlinkHref:"#".concat(i)},c)),(0,f.jsx)("g",{transform:"translate(".concat(r,",0)"),children:(0,f.jsx)(g,{name:e.name,infos:e.transfer.info,stnState:t.stnState,direction:n.direction,info_panel_type:n.info_panel_type,facility:e.facility})})]})},g=function(t){var n,e=t.name,c=t.infos,a=t.stnState,s=t.info_panel_type,o=t.direction,h=t.facility,d=t.name[1].split("\\").length,m=(0,r.useRef)(null),x=r.useState({width:0}),g=(0,i.Z)(x,2),v=g[0],_=g[1];r.useEffect((function(){return _(m.current.getBBox())}),(0,l.Z)(e));var y=v.width+5,S="l"===o?1:-1,k=h!==u.mV.none?30:0;return(0,f.jsxs)("g",{transform:"translate(".concat("l"===o?6:-6,",").concat("sh2020"===s?-20:-6,")rotate(").concat("l"===t.direction?-45:45,")"),children:[c.flat().length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("line",{x1:k*S,x2:(k+y)*S,stroke:-1===a?"gray":"black",strokeWidth:.5}),(0,f.jsx)(j,{intInfos:c,transform:"translate(".concat((k+y)*S,",-10.75)"),direction:o})]}),h!==u.mV.none&&(0,f.jsx)("use",{xlinkHref:"#"+h,x:10*S,y:-30}),(0,f.jsxs)("g",{textAnchor:"l"===o?"start":"end",transform:"translate(".concat(k*S,",").concat(-16.15625-12*(d-1),")"),children:[(0,f.jsx)(p,{ref:m,stnName:e,fill:-1===a?"gray":0===a?"red":"black"}),(null===(n=c[1])||void 0===n?void 0:n.length)>0&&(0,f.jsx)("g",{transform:"translate(".concat((y+15*c.reduce((function(t,n){return t+n.length}),0))*S,",-30)"),children:(0,f.jsx)(Z,{osiInfos:c[1]})})]})]})},p=r.forwardRef((function(t,n){var e=t.stnName,i=(0,o.Z)(t,d);return(0,f.jsx)("g",(0,a.Z)((0,a.Z)({ref:n},i),{},{children:r.useMemo((function(){return(0,f.jsxs)(f.Fragment,{children:[e[0].split("\\").map((function(t,n,e){return(0,f.jsx)("text",{className:"rmg-name__zh",dy:-15*(e.length-1-n),children:t},n)})),(0,f.jsx)("g",{fontSize:9.6,children:e[1].split("\\").map((function(t,n){return(0,f.jsx)("text",{className:"rmg-name__en",dy:12*(n+1),children:t},n)}))})]})}),(0,l.Z)(e))}))})),j=function(t){var n,e=t.intInfos,r=(t.direction,(0,o.Z)(t,m)),i=[].concat((0,l.Z)(e[0]),(0,l.Z)(e[1]||[]),(0,l.Z)((null===(n=e[2])||void 0===n?void 0:n.filter((function(t){return Boolean(t[4].match(/^\u78c1(\u60ac)*\u6d6e/))})))||[])),c=0;return(0,f.jsxs)("g",(0,a.Z)((0,a.Z)({fontSize:14,textAnchor:"middle"},r),{},{children:[i.map((function(n,e){var r=Boolean(n[4].match(/^\d.*$/)),i=Boolean(n[4].match(/^\u78c1(\u60ac)*\u6d6e/));"r"===t.direction&&(c-=(r||i?20:14*n[4].length+12+0)+(0===e?0:5));var a=(0,f.jsx)("g",{});return a=i?(0,f.jsx)("g",{transform:"translate(".concat(c,",-16)scale(0.1428571429)"),children:(0,f.jsx)(v,{info:n})},e):r?(0,f.jsx)("g",{transform:"translate(".concat(c,",0)"),children:(0,f.jsx)(_,{info:n})},e):(0,f.jsx)("g",{transform:"translate(".concat(c,",0)"),children:(0,f.jsx)(y,{info:n})},e),"l"===t.direction&&(c+=r||i?25:14*n[4].length+12+5),a})),(0,l.Z)(e[2]||[]).length>0&&(0,f.jsx)("g",{transform:"translate(".concat(c-("r"===t.direction?5:0),",0)"),children:(0,f.jsx)(S,{osysiInfos:e[2],direction:t.direction})},i.length+1)]}))},v=(0,r.memo)((function(t){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("use",{xlinkHref:"#intbox_maglev",fill:t.info[2],stroke:t.info[2]})})}),(function(t,n){return t.info.toString()===n.info.toString()})),_=(0,r.memo)((function(t){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("use",{xlinkHref:"#intbox_number",fill:t.info[2]}),(0,f.jsx)("text",{x:10,className:"rmg-name__zh",fill:t.info[3],dominantBaseline:"central",children:t.info[4].match(/(\d*)\w+/)[0]})]})}),(function(t,n){return t.info.toString()===n.info.toString()})),y=(0,r.memo)((function(t){var n=t.info[4].split("\\")[0].length;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("rect",{height:22,width:14*n+12,y:-11,fill:t.info[2]}),(0,f.jsx)("text",{x:7*n+6,className:"rmg-name__zh",fill:t.info[3],dominantBaseline:"central",children:t.info[4].split("\\")[0]})]})}),(function(t,n){return t.info.toString()===n.info.toString()})),Z=function(t){var n=t.osiInfos.map((function(t){return t[4]})).join("\uff0c");return r.useMemo((function(){return(0,f.jsxs)("g",{textAnchor:"middle",fontSize:"50%",children:[(0,f.jsx)("text",{className:"rmg-name__zh",dy:-5,children:"\u6362\u4e58".concat(n)}),(0,f.jsx)("text",{className:"rmg-name__zh",dy:5,children:"\u4ec5\u9650\u516c\u5171\u4ea4\u901a\u5361"}),(0,f.jsx)("text",{className:"rmg-name__en",dy:12.5,fontSize:"75%",children:"Only for Public Transportation Card"})]})}),[n.toString()])},S=function(t){var n=t.osysiInfos.map((function(t){return t[4]})).join("\uff0c"),e=t.osysiInfos.map((function(t){return t[5]})).join(", ");return r.useMemo((function(){return(0,f.jsxs)("g",{textAnchor:"l"===t.direction?"start":"end",fontSize:"50%",children:[(0,f.jsxs)("text",{className:"rmg-name__zh",dy:3,children:["\u8f6c\u4e58",n]}),(0,f.jsxs)("text",{className:"rmg-name__en",dy:10,fontSize:"75%",children:["To ",e]})]})}),[t.osysiInfos.toString(),t.direction])},k=function(){var t=(0,h.CG)((function(t){return t.helper})),n=t.routes,e=t.branches,i=t.depsStr,o=(0,h.CG)((function(t){return t.param})),l=(0,s.Az)(o.stn_list,(function(){return 0}),(function(){return 0})),d=(0,s.QE)("linestart","lineend",l),m=(0,s.QE)(d.nodes[1],d.nodes.slice(-2)[0],l),x=r.useMemo((function(){return console.log("computing x shares"),Object.keys(o.stn_list).reduce((function(t,n){return(0,a.Z)((0,a.Z)({},t),{},(0,c.Z)({},n,(0,s.ML)(n,l,e)))}),{})}),[e.toString(),JSON.stringify(l)]),g=[o.svgWidth.railmap*o.padding/100,o.svgWidth.railmap*(1-o.padding/100)],p=Object.keys(x).reduce((function(t,n){return(0,a.Z)((0,a.Z)({},t),{},(0,c.Z)({},n,g[0]+x[n]/m.len*(g[1]-g[0])))}),{}),j=r.useMemo((function(){return console.log("computing y shares"),Object.keys(o.stn_list).reduce((function(t,n){return(0,a.Z)((0,a.Z)({},t),{},(0,c.Z)({},n,e[0].includes(n)?0:3))}),{})}),[i]),v=Object.keys(j).reduce((function(t,n){return(0,a.Z)((0,a.Z)({},t),{},(0,c.Z)({},n,-j[n]*o.branch_spacing))}),{}),_=r.useMemo((function(){return(0,s.h6)(o.current_stn_idx,n,o.direction)}),[o.current_stn_idx,o.direction,n.toString()]),y=Object.values(u.K9),Z=Object.values(o.stn_list).map((function(t){return t.services})).flat().reduce((function(t,n){return t[y.indexOf(n)]=!0,t}),[!1,!1,!1]).map((function(t,n){return[y[n],t]})).filter((function(t){return t[1]})).map((function(t){return t[0]})),S=(0,s.pS)(e,_),k=Z.map((function(t){return Object.keys(S).reduce((function(n,e){var r;return(0,a.Z)((0,a.Z)({},n),{},(r={},(0,c.Z)(r,e,S[e].map((function(n){return M(n,e,p,v,o.direction,t,Z.length)})).filter((function(t){return""!==t}))),(0,c.Z)(r,"service",t),r))}),{})}));return(0,f.jsxs)("g",{id:"main",transform:"translate(0,".concat(o.svg_height-63,")"),children:[(0,f.jsx)(w,{paths:k,direction:o.direction}),(0,f.jsx)(b,{xs:p,ys:v,stnStates:_}),(0,f.jsx)(L,{servicesLevel:Z,dy:100-o.svg_height,direction:o.direction,lineXs:g}),(0,f.jsx)(O,{})]})},w=function(t){var n=(0,h.CG)((function(t){return t.param})).theme;return(0,f.jsx)(f.Fragment,{children:t.paths.map((function(e,r){return(0,f.jsxs)("g",{transform:"translate(0,".concat(25*r,")"),filter:"#999999"===n[2]?"url(#pujiang_outline_railmap)":void 0,children:[(0,f.jsx)("g",{children:e.pass.map((function(n,e){return(0,f.jsx)("path",{stroke:"gray",strokeWidth:12,fill:"none",d:n,markerStart:"l"===t.direction?"url(#arrow_gray)":void 0,markerEnd:"r"===t.direction?"url(#arrow_gray)":void 0,strokeLinejoin:"round"},e)}))}),(0,f.jsx)("g",{children:e.main.map((function(n,e){return(0,f.jsx)("path",{stroke:"var(--rmg-theme-colour)",strokeWidth:12,fill:"none",d:n,markerStart:"l"===t.direction?"url(#arrow_theme_left)":void 0,markerEnd:"r"===t.direction?"url(#arrow_theme_right)":void 0,strokeLinejoin:"round",filter:2===r?"url(#contrast-direct)":1===r?"url(#contrast-express)":void 0},e)}))})]},"servicePath".concat(r))}))})},M=function(t,n,e,r,c,a,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:30,l=[],u=(0,i.Z)(l,2),h=u[0],f=u[1],d={},m={local:0,express:20,direct:40}[a],x=s>1?50:0;if(t.forEach((function(t){var n=e[t],i=r[t];if(!h&&0!==h)return f=n,h=i,void(d.start=[n,i]);0===i?i!==h&&(d.bifurcate=[f,h]):i!==h&&(d.bifurcate=[n,i]),d.end=[n,i],f=n,h=i})),d.hasOwnProperty("start")){if(d.hasOwnProperty("end")){if(d.hasOwnProperty("bifurcate")){var g=(0,i.Z)(d.start,2),p=g[0],j=g[1],v=(0,i.Z)(d.end,2),_=v[0],y=v[1];return"main"===n?"l"===c?y>j?"M ".concat(p-o,",").concat(j," H ").concat(_," V ").concat(y):"M ".concat(p,",").concat(j," V ").concat(y," H ").concat(_):y>j?"M ".concat(p,",").concat(j," H ").concat(_," V ").concat(y):"M ".concat(p,",").concat(j," V ").concat(y," H ").concat(_+o):y>j?"M ".concat(p-o,",").concat(j," H ").concat(_," V ").concat(y):"M ".concat(p,",").concat(j," V ").concat(y," H ").concat(_+o)}var Z=(0,i.Z)(d.start,2),S=Z[0],k=Z[1],w=d.end[0];return"main"===n?"l"===c?"M ".concat(S-o-m,",").concat(k," H ").concat(w):"M ".concat(S,",").concat(k," H ").concat(w+o+m):"l"===c?"M ".concat(S-o,",").concat(k," H ").concat(w+o+x):"M ".concat(S-o-x,",").concat(k," H ").concat(w+o)}var M=(0,i.Z)(d.start,2),b=M[0],L=M[1];return"main"===n?"l"===c?"M ".concat(b-o-m,",").concat(L," H ").concat(b):"M ".concat(b,",").concat(L," H ").concat(b+o+m):"l"===c?"M ".concat(b,",").concat(L," L ").concat(b+o+x,",").concat(L):"M ".concat(b-o-x,",").concat(L," L ").concat(b,",").concat(L)}return""},b=function(t){var n=(0,h.CG)((function(t){return t.param}));return(0,f.jsx)("g",{children:Object.keys(n.stn_list).filter((function(t){return!["linestart","lineend"].includes(t)})).filter((function(t){return 0!==n.stn_list[t].services.length})).map((function(n){return(0,f.jsx)("g",{transform:"translate(".concat(t.xs[n],",").concat(t.ys[n],")"),children:(0,f.jsx)(x,{stnId:n,stnState:t.stnStates[n]})},n)}))})},L=function(t){var n=(0,h.CG)((function(t){return t.param}));if(1===t.servicesLevel.length)return(0,f.jsx)(f.Fragment,{});var e=t.servicesLevel.map((function(t){return{local:"\u666e\u901a\u8f66",express:"\u5927\u7ad9\u8f66",direct:"\u76f4\u8fbe\u8f66"}[t]})),r="r"===t.direction?t.lineXs[0]-42:t.lineXs[1]+42,i=2===t.servicesLevel.length?350:500;return(0,f.jsxs)("g",{children:[e.map((function(t,n){return(0,f.jsxs)("g",{transform:"translate(".concat(r,",").concat(25*n,")"),children:[(0,f.jsx)("rect",{x:-27.5,height:10,width:55,fill:"white",stroke:"black",y:-5}),(0,f.jsx)("text",{className:"rmg-name__zh",fontSize:9,y:3,textAnchor:"middle",children:"".concat(t,"\u8fd0\u884c\u7ebf")})]},t)})),(0,f.jsxs)("g",{transform:"translate(".concat("r"===t.direction?30:n.svgWidth.railmap-i,",").concat(t.dy,")"),children:[(0,f.jsx)("text",{className:"rmg-name__zh",children:"\u56fe\u4f8b\uff1a"}),e.map((function(t,n){return(0,f.jsxs)("g",{transform:"translate(".concat(150*n+50,",0)"),children:[(0,f.jsx)("line",{x1:"0",x2:"35",y1:"-5",y2:"-5",stroke:"var(--rmg-theme-colour)",strokeWidth:"12",filter:2===n?"url(#contrast-direct)":1===n?"url(#contrast-express)":""}),(0,f.jsx)("use",{x:"17.5",y:"-5",xlinkHref:"#stn_sh",fill:"var(--rmg-theme-colour)"}),(0,f.jsx)("text",{x:"40",className:"rmg-name__zh",children:"".concat(t,"\u505c\u9760\u7ad9")})]},"serviceLevel".concat(n))}))]})]})},O=function(){var t=(0,h.CG)((function(t){return t.param}));return r.useMemo((function(){return(0,f.jsxs)("g",{transform:"translate(".concat("l"===t.direction?50:t.svgWidth.railmap-150,",").concat(100-t.svg_height,")"),children:[(0,f.jsx)("text",{className:"rmg-name__zh",children:"\u5217\u8f66\u524d\u8fdb\u65b9\u5411"}),(0,f.jsx)("path",{d:"M60,60L0,0L60-60H100L55-15H160V15H55L100,60z",fill:"var(--rmg-theme-colour)",transform:"translate(".concat("l"===t.direction?-30:125,",-5)rotate(").concat("l"===t.direction?0:180,")scale(0.15)")})]})}),[t.direction,t.svgWidth.railmap,t.svg_height])},C=r.memo((function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(F,{}),(0,f.jsx)(k,{})]})})),F=r.memo((function(){return(0,f.jsxs)("defs",{children:[(0,f.jsx)("circle",{id:"stn_sh",fill:"var(--rmg-white)",strokeWidth:2,r:5}),(0,f.jsx)("path",{id:"int2_sh",fill:"var(--rmg-white)",strokeWidth:2,d:"M -5,0 a 5,5 0 1 1 10,0 V10 a 5,5 0 1 1 -10,0Z"}),(0,f.jsx)("path",{id:"express_sh",fill:"var(--rmg-white)",strokeWidth:2,d:"M -5,0 a 5,5 0 1 1 10,0 V25 a 5,5 0 1 1 -10,0Z"}),(0,f.jsx)("path",{id:"direct_sh",fill:"var(--rmg-white)",strokeWidth:2,d:"M -5,0 a 5,5 0 1 1 10,0 V50 a 5,5 0 1 1 -10,0Z"}),(0,f.jsx)("rect",{id:"stn_sh_2020",stroke:"none",height:24,width:10,y:-18}),(0,f.jsx)("rect",{id:"stn_sh_2020_express",stroke:"none",height:49,width:10,y:-18}),(0,f.jsx)("rect",{id:"stn_sh_2020_direct",stroke:"none",height:74,width:10,y:-18}),(0,f.jsx)("rect",{id:"intbox_number",height:22,width:20,y:-11}),(0,f.jsxs)("g",{id:"intbox_maglev",transform:"translate(-25,0)",children:[(0,f.jsx)("rect",{id:"maglev_5",height:144,width:130,y:"40",x:"30",strokeWidth:10}),(0,f.jsx)("path",{id:"maglev_3",fill:"var(--rmg-white)",d:"m90,55a40,5 0 0 0 -40,3a5,5 0 0 0 -5,5a5,60 0 0 0 -3,60a5,5 0 0 0 5,5l96,0a5,5 0 0 0 5,-5a5,60 0 0 0 -3,-60a5,5 0 0 0 -5,-5a40,5 0 0 0 -40,-3l-5,-10l-5,10"}),(0,f.jsx)("path",{id:"maglev_4",fill:"var(--rmg-white)",d:"m90,140l-40,0a10,5 0 0 1 -10,-5l0,25a10,15 0 0 0 10,15l15,0l0,-10l-15,0l0,-15l90,0l0,15l-15,0l0,10l15,0a10,15 0 0 0 10,-15l0,-25a10,5 0 0 1 -10,5l-50,0"}),(0,f.jsx)("rect",{id:"maglev_1",height:"25",width:"40",y:"80",x:"50"}),(0,f.jsx)("rect",{id:"maglev_2",height:"25",width:"40",y:"80",x:"100"})]}),(0,f.jsxs)("g",{id:"airport",transform:"scale(0.5)",children:[(0,f.jsx)("circle",{cx:"0",cy:"29.33899",r:"29.33899",fill:"var(--rmg-grey)"}),(0,f.jsx)("path",{id:"airport",d:"M28.9769,6.60134c1.711.013,3.111,2.53205,3.111,4.241v10.337s17.106,15.435,17.358,15.666a1.145,1.145,0,0,1,.488,1.152v2.833c0,.651-.451.61-.695.467-.334-.119-17.151-8.863-17.151-8.863-.004,1.458-.797,9.006-1.326,13.304,0,0,4.61,2.457,4.699,2.521.334.268.352.359.352.852v2.001c0,.477-.352.428-.51.324-.183-.062-5.693-1.921-5.693-1.921a2.56018,2.56018,0,0,0-.633-.127,2.31654,2.31654,0,0,0-.666.127s-5.477,1.859-5.672,1.921c-.185.104-.523.153-.523-.324v-2.001c0-.493.029-.584.367-.852.086-.064,4.678-2.521,4.678-2.521-.524-4.298-1.307-11.846-1.325-13.304,0,0-16.822,8.744-17.148,8.863-.217.143-.69.184-.69-.467v-2.833a1.16206,1.16206,0,0,1,.473-1.152c.276-.231,17.365-15.666,17.365-15.666v-10.337c0-1.709,1.403-4.228,3.14105-4.241",transform:"translate(-28.9697,0.14347)",fill:"var(--rmg-white)"})]}),(0,f.jsxs)("g",{id:"disney",transform:"scale(0.5)",children:[(0,f.jsx)("circle",{cx:"0",cy:"29.33899",r:"29.33899",fill:"var(--rmg-grey)"}),(0,f.jsx)("path",{fill:"var(--rmg-white)",d:"M45.6152,7.85015a9.80248,9.80248,0,0,0-9.79907,9.801,9.70059,9.70059,0,0,0,.342,2.582c.002.026.002.055.002.093a.31815.31815,0,0,1-.31494.318.67741.67741,0,0,1-.12806-.02,15.71521,15.71521,0,0,0-13.498,0,.61.61,0,0,1-.122.02.31841.31841,0,0,1-.322-.318v-.067a9.62553,9.62553,0,0,0,.35608-2.608,9.803,9.803,0,1,0-9.797,9.8,10.10364,10.10364,0,0,0,2.308-.271h.05493a.31113.31113,0,0,1,.31409.318.32433.32433,0,0,1-.019.12,15.72588,15.72588,0,1,0,29.703,7.216,15.83676,15.83676,0,0,0-1.746-7.23.18417.18417,0,0,1-.0271-.106.31612.31612,0,0,1,.32007-.318h.057a10.15953,10.15953,0,0,0,2.316.271,9.80051,9.80051,0,0,0,0-19.601",transform:"translate(-28.9697 0.13398)"})]}),(0,f.jsxs)("g",{id:"railway",children:[(0,f.jsx)("circle",{cx:"0",cy:"29.33899",r:"29.33899",fill:"var(--rmg-grey)",transform:"translate(0,-2)scale(0.5)"}),(0,f.jsx)("path",{fill:"var(--rmg-white)",d:"M169,273.5c0-19,14.7-34.8,33.7-36.3c18.9-1.5,38.1-2.2,57.4-2.2c19.3,0,38.4,0.8,57.3,2.2  c19,1.5,33.7,17.3,33.7,36.3v47.3l-51.3,14.7c-11.2,3.2-18.9,13.4-18.9,25v147.8c0,17.4,12.2,32.3,29.3,35.7l110.6,22.1  c4.9,1,8.4,5.2,8.4,10.2V599H91v-22.7c0-5,3.5-9.2,8.4-10.2L209.9,544c17-3.4,29.3-18.3,29.3-35.7V360.5c0-11.6-7.7-21.8-18.9-25  L169,320.8V273.5z M309.4,31.7c0.2-1.2,0.3-2.4,0.3-3.6c0-14-11.1-25.4-24.9-26C276.6,1.4,268.3,1,260,1c-8.3,0-16.6,0.4-24.7,1.1  c-13.9,0.6-24.9,12-24.9,26c0,1.2,0.1,2.5,0.3,3.6C90.6,54.8,0,160.3,0,287c0,97.2,53.4,182,132.4,226.6l36.8-48.1  C104.3,432.4,59.8,364.9,59.8,287c0-110.6,89.6-200.2,200.2-200.2S460.2,176.4,460.2,287c0,77.9-44.5,145.4-109.4,178.5  c15,19.6,25.6,33.5,36.8,48.1C466.6,469,520,384.2,520,287C520,160.3,429.4,54.8,309.4,31.7z",transform:"translate(-10,0)scale(0.04)"})]}),(0,f.jsx)("marker",{id:"arrow_gray",viewBox:"-1.5 0 3 1.5",refY:.5,children:(0,f.jsx)("path",{d:"M0,0L1,1H-1z",fill:"var(--rmg-grey)"})}),(0,f.jsx)("marker",{id:"arrow_theme_left",refX:1,refY:.5,children:(0,f.jsx)("path",{d:"M1,0L0,1H1z",fill:"var(--rmg-theme-colour)"})}),(0,f.jsx)("marker",{id:"arrow_theme_right",refY:.5,children:(0,f.jsx)("path",{d:"M0,0L1,1H-1z",fill:"var(--rmg-theme-colour)"})}),(0,f.jsx)("filter",{id:"contrast-direct",filterUnits:"userSpaceOnUse",children:(0,f.jsxs)("feComponentTransfer",{children:[(0,f.jsx)("feFuncR",{type:"linear",slope:.5,intercept:.25}),(0,f.jsx)("feFuncG",{type:"linear",slope:.5,intercept:.25}),(0,f.jsx)("feFuncB",{type:"linear",slope:.5,intercept:.25})]})}),(0,f.jsx)("filter",{id:"contrast-express",filterUnits:"userSpaceOnUse",children:(0,f.jsxs)("feComponentTransfer",{children:[(0,f.jsx)("feFuncR",{type:"linear",slope:.75,intercept:.125}),(0,f.jsx)("feFuncG",{type:"linear",slope:.75,intercept:.125}),(0,f.jsx)("feFuncB",{type:"linear",slope:.75,intercept:.125})]})}),(0,f.jsxs)("filter",{id:"pujiang_outline_railmap",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",x:"0",y:"-1000",width:"5000",height:"2000",children:[(0,f.jsxs)("feComponentTransfer",{in:"SourceGraphic",children:[(0,f.jsx)("feFuncR",{type:"discrete",tableValues:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"}),(0,f.jsx)("feFuncG",{type:"discrete",tableValues:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"}),(0,f.jsx)("feFuncB",{type:"discrete",tableValues:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"})]}),(0,f.jsx)("feColorMatrix",{type:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 1 1 1 1 -3",result:"selectedColor1"}),(0,f.jsx)("feMorphology",{operator:"erode",in:"selectedColor1",radius:"0",result:"e1"}),(0,f.jsx)("feMorphology",{operator:"erode",in:"selectedColor1",radius:"1",result:"e2"}),(0,f.jsx)("feComposite",{in:"e1",in2:"e2",operator:"xor",result:"uncoloredOutline"}),(0,f.jsx)("feFlood",{floodColor:"rgb(0,0,0)"}),(0,f.jsx)("feComposite",{operator:"in",in2:"uncoloredOutline",result:"outline"}),(0,f.jsx)("feComposite",{in:"outline",in2:"selectedColor1",operator:"over",result:"result"}),(0,f.jsx)("feComposite",{in:"result",in2:"SourceGraphic",operator:"over"})]})]})}))}}]);
//# sourceMappingURL=railmapSHMetro.1dca71ca.chunk.js.map