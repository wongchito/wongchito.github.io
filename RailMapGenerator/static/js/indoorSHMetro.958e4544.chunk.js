"use strict";(self.webpackChunkrail_map_generator=self.webpackChunkrail_map_generator||[]).push([[4880],{6900:function(n,t,e){e.r(t),e.d(t,{DefsSHMetro:function(){return y},default:function(){return j}});var r=e(4942),i=e(1413),s=e(2791),a=e(3824),c=e(5987),o=e(3433),l=e(6169),u=e(184),h=["stnName","nameDirection"],d=function(n){var t=(0,l.CG)((function(n){return n.param})),e=t.stn_list[n.stnId],r="";return r=3===e.services.length?"direct_indoor_sh":2===e.services.length?"express_indoor_sh":[].concat((0,o.Z)(e.transfer.info[0]),(0,o.Z)(e.transfer.info[1]||[])).length>0?"int2_indoor_sh":"stn_indoor_sh",(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f,{name:e.name,infos:e.transfer.info,stnState:n.stnState,direction:t.direction,nameDirection:n.nameDirection,services:n.services}),(0,u.jsx)("use",{xlinkHref:"#".concat(r),stroke:"var(--rmg-theme-colour)"}),e.services.length>1&&(0,u.jsx)("text",{className:"rmg-name__zh",writingMode:"tb",fontSize:"60%",dy:"-12",children:"\u5927\u7ad9\u8f66".concat(e.services.length>2?" \u76f4\u8fbe\u8f66":"","\u505c\u9760")})]})},f=function(n){var t,e,r,i;return(0,u.jsxs)("g",{transform:"translate(0,".concat("upward"===n.nameDirection?60:-30,")"),children:[(0,u.jsx)("line",{x1:-30,x2:30,y1:"upward"===n.nameDirection?-23:-10,y2:"upward"===n.nameDirection?-23:-10,stroke:"black"}),(0,u.jsx)("line",{y1:"upward"===n.nameDirection?-23:-10,y2:"upward"===n.nameDirection?-48:20,stroke:"black"}),[].concat((0,o.Z)(n.infos[0]),(0,o.Z)(n.infos[1]||[])).length>0&&(0,u.jsx)(g,{intInfos:[].concat((0,o.Z)(n.infos[0]),(0,o.Z)(n.infos[1]||[])),arrowDirection:n.nameDirection,services:n.services}),(0,u.jsx)(m,{stnName:n.name,nameDirection:n.nameDirection,fill:"black"}),(null===(t=n.infos[1])||void 0===t?void 0:t.length)>0&&(0,u.jsx)("g",{transform:"translate(0,".concat("upward"===n.nameDirection?-185:150,")"),children:(0,u.jsx)(x,{osiInfos:n.infos[1]})}),(null===(e=n.infos[2])||void 0===e?void 0:e.length)>0&&(0,u.jsx)("g",{transform:"translate(0,".concat("upward"===n.nameDirection?null!==(r=n.infos[1])&&void 0!==r&&r.length?-210:n.infos[0].length?-180:-100:(null!==(i=n.infos[1])&&void 0!==i&&i.length?190:n.infos[0].length?160:75)+(3===n.services.length?40:0),")"),children:(0,u.jsx)(p,{osysiInfos:n.infos[2]})})]})},m=s.forwardRef((function(n,t){var e=n.stnName,r=n.nameDirection,a=(0,c.Z)(n,h),l=e[0].split("\\"),d=e[1].split("\\").length;return(0,u.jsx)("g",(0,i.Z)((0,i.Z)({ref:t},a),{},{textAnchor:"middle",transform:"translate(0,".concat("upward"===r?-2:-30-12*(d-1),")"),children:s.useMemo((function(){return(0,u.jsxs)(u.Fragment,{children:[l.map((function(n,t,e){return(0,u.jsx)("text",{className:"rmg-name__zh",dy:"upward"===r?16*t:-16*(e.length-1-t),children:n},t)})),(0,u.jsx)("g",{fontSize:9.6,children:e[1].split("\\").map((function(n,t){return(0,u.jsx)("text",{className:"rmg-name__en",dy:12*(t+1)+("upward"===r&&l.length>1?7.5*l.length:0),children:n},t)}))})]})}),(0,o.Z)(e))}))})),g=function(n){var t=n.intInfos,e=n.arrowDirection,r=n.services,i=t.map((function(n){return n[2]})).reduce((function(n,t){return n+t}),""),a=[t.filter((function(n){return n[4].match(/^\d+.*$/)})).map((function(n){return n[4].replace(/^(\d+)(.*)$/,"$1")})).join("\uff0c").concat("\u53f7\u7ebf"),t.filter((function(n){return!n[4].match(/^\d+.*$/)})).map((function(n){return n[4]})).join("\uff0c")].filter((function(n){return n&&"\u53f7\u7ebf"!==n})).join("\uff0c"),c=["Line ".concat(t.filter((function(n){return n[5].match(/^L|line$/)})).map((function(n){return n[5].replace("Line","").replace("line","").trim()})).join(",")),t.filter((function(n){return!n[5].match(/^L|line$/)})).map((function(n){return n[5]})).join("\uff0c")].filter((function(n){return n&&"Line "!==n})).join(","),o=3===r.length?80:45,l="upward"===e?-145:125+(3===r.length?40:0);return(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{id:"int_indoor_arrow_sh",stroke:"var(--rmg-black)",strokeWidth:1,transform:"translate(0,".concat("upward"===e?-74:44,")rotate(").concat("upward"===e?0:180,")"),fill:1===t.length?t[0][2]:"url(#grad".concat(i,")"),d:"M -7.5,0 v -".concat(o," h -7.5 l 15,-15 l 15,15 h -7.5 v ").concat(o," Z")}),t.length>1&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("linearGradient",{id:"grad".concat(i),y1:"0",y2:"0",x1:"upward"===e?"25%":"75%",x2:"upward"===e?"75%":"25%",children:t.map((function(n,e){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("stop",{offset:"".concat(100/t.length*(e+0),"%"),stopColor:n[2]}),(0,u.jsx)("stop",{offset:"".concat(100/t.length*(e+1),"%"),stopColor:n[2]})]},e)}))})}),(0,u.jsxs)("g",{transform:"translate(0,".concat(l,")"),textAnchor:"middle",children:[(0,u.jsx)("text",{className:"rmg-name__zh",dy:-7,children:"\u6362\u4e58".concat(a)}),(0,u.jsx)("text",{className:"rmg-name__en",dy:5,fontSize:9.6,children:"Interchange ".concat(c)})]})]})},x=function(n){return s.useMemo((function(){return(0,u.jsxs)("g",{textAnchor:"middle",fontSize:"50%",children:[(0,u.jsx)("text",{className:"rmg-name__zh",dy:-5,children:"\u6362\u4e58".concat(n.osiInfos.map((function(n){return n[4]})).join("\uff0c"))}),(0,u.jsx)("text",{className:"rmg-name__zh",dy:5,children:"\u4ec5\u9650\u516c\u5171\u4ea4\u901a\u5361"}),(0,u.jsx)("text",{className:"rmg-name__en",dy:12.5,fontSize:"75%",children:"Only for Public Transportation Card"})]})}),[n.osiInfos.toString()])},p=function(n){return s.useMemo((function(){return(0,u.jsxs)("g",{textAnchor:"middle",children:[(0,u.jsx)("text",{className:"rmg-name__zh",dy:-5,children:"\u8f6c\u4e58".concat(n.osysiInfos.map((function(n){return n[4]})).join("\uff0c"))}),(0,u.jsx)("text",{className:"rmg-name__en",dy:7.5,fontSize:9.6,children:"To ".concat(n.osysiInfos.map((function(n){return n[5]})).join(", "))})]})}),[n.osysiInfos.toString()])},_=e(8359),v=e(713),j=(0,s.memo)((function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y,{}),(0,u.jsx)(Z,{})]})})),y=s.memo((function(){return(0,u.jsxs)("defs",{children:[(0,u.jsx)("circle",{id:"stn_indoor_sh",fill:"var(--rmg-white)",strokeWidth:5,stroke:"var(--rmg-theme-colour)",r:8,transform:"scale(1.5)"}),(0,u.jsx)("path",{id:"int2_indoor_sh",fill:"var(--rmg-white)",stroke:"black",transform:"translate(0, -10)scale(2)",strokeWidth:4,d:"M -5,0 a 5,5 0 1 1 10,0 V10 a 5,5 0 1 1 -10,0Z"}),(0,u.jsx)("path",{id:"express_indoor_sh",fill:"var(--rmg-white)",stroke:"black",transform:"translate(0, -10)scale(2)",strokeWidth:4,d:"M -5,0 a 5,5 0 1 1 10,0 V25 a 5,5 0 1 1 -10,0Z"}),(0,u.jsx)("path",{id:"direct_indoor_sh",fill:"var(--rmg-white)",stroke:"black",transform:"translate(0, -10)scale(2)",strokeWidth:4,d:"M -5,0 a 5,5 0 1 1 10,0 V40 a 5,5 0 1 1 -10,0Z"})]})})),S=function(n,t){var e=0;return 2===n[t].parents.length&&(e+=1),2===n[n[t].parents[0]].children.length&&(e+=1),e},k=function(n,t){var e=0;return 2===n[t].children.length&&(e+=1),2===n[n[t].children[0]].parents.length&&(e+=1),e},Z=function(){var n=(0,l.CG)((function(n){return n.helper})),t=n.routes,e=n.branches,c=n.depsStr,o=(0,l.CG)((function(n){return n.param})),h=(0,a.Az)(o.stn_list,S,k),d=(0,a.QE)("linestart","lineend",h),f=(0,a.QE)(d.nodes[1],d.nodes.slice(-2)[0],h),m=s.useMemo((function(){return console.log("computing x shares"),Object.keys(o.stn_list).reduce((function(n,t){return(0,i.Z)((0,i.Z)({},n),{},(0,r.Z)({},t,(0,a.ML)(t,h,e)))}),{})}),[e.toString(),JSON.stringify(h)]),g=[o.svgWidth.indoor*o.padding/100,o.svgWidth.indoor*(1-o.padding/100)],x=Object.keys(m).reduce((function(n,t){return(0,i.Z)((0,i.Z)({},n),{},(0,r.Z)({},t,g[0]+m[t]/f.len*(g[1]-g[0])))}),{}),p=(0,s.useMemo)((function(){return _.Z.getYShares(o.stn_list,e)}),[c]),j=Object.keys(p).reduce((function(n,t){return(0,i.Z)((0,i.Z)({},n),{},(0,r.Z)({},t,p[t]*o.branch_spacing*2))}),{}),y=s.useMemo((function(){return(0,a.h6)(o.current_stn_idx,t,o.direction)}),[o.current_stn_idx,o.direction,t.toString()]),Z=Object.values(v.K9),b=Object.values(o.stn_list).map((function(n){return n.services})).flat().reduce((function(n,t){return n[Z.indexOf(t)]=!0,n}),[!1,!1,!1]).map((function(n,t){return[Z[t],n]})).filter((function(n){return n[1]})).map((function(n){return n[0]})),N=_.Z.drawLine(e,y,o.stn_list,g,x,j,2*o.branch_spacing,d,0);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{id:"main",transform:"translate(0,".concat(o.svg_height/2,")"),children:[(0,u.jsx)(w,{paths:N,services:b}),(0,u.jsx)(L,{xs:x,ys:j,stnStates:y,services:b})]}),(0,u.jsx)(z,{})]})},w=function(n){return(0,u.jsx)("g",{fill:"none",strokeWidth:12,stroke:"var(--rmg-theme-colour)",children:n.services.map((function(t,e){return(0,u.jsxs)("g",{transform:"translate(0, ".concat(30*e,")"),children:[n.paths.main.map((function(n,t){return(0,u.jsx)("path",{d:n},t)})),n.paths.pass.map((function(n,t){return(0,u.jsx)("path",{d:n},t)}))]},"indoor_line_".concat(e))}))})},L=function(n){var t=(0,l.CG)((function(n){return n.helper})).branches,e=(0,l.CG)((function(n){return n.param})),r=n.xs,i=n.ys,s=n.stnStates,a=n.services;return(0,u.jsx)("g",{children:Object.keys(e.stn_list).filter((function(n){return!["linestart","lineend"].includes(n)})).filter((function(n){return 0!==e.stn_list[n].services.length})).map((function(n){return(0,u.jsx)("g",{transform:"translate(".concat(r[n],",").concat(i[n],")"),children:(0,u.jsx)(d,{stnId:n,stnState:s[n],nameDirection:t.filter((function(t){return t.includes(n)})).map((function(t){return t.indexOf(n)%2===0||a.length>1?"downward":"upward"}))[0],services:a})},n)}))})},z=function(){var n=(0,l.CG)((function(n){return n.param}));return s.useMemo((function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{transform:"translate(".concat(n.svgWidth.indoor/2,",50)"),children:(0,u.jsxs)("text",{textAnchor:"middle",fontSize:"30",className:"rmg-name__zh",children:["\u8f68\u9053\u4ea4\u901a",n.line_name[0],"\u8fd0\u8425\u7ebf\u8def\u793a\u610f\u56fe"]})}),(0,u.jsxs)("g",{transform:"translate(".concat(n.svgWidth.indoor/2,",").concat(n.svg_height-270,")"),children:[(0,u.jsx)("text",{textAnchor:"middle",fontSize:"18",className:"rmg-name__zh",dx:"-30",dy:"230",children:"\u53cb\u60c5\u63d0\u793a\uff1a\u8bf7\u7559\u610f\u60a8\u9700\u8981\u6362\u4e58\u7ebf\u8def\u7684\u9996\u672b\u73ed\u65f6\u95f4\uff0c\u4ee5\u514d\u803d\u8bef\u60a8\u7684\u51fa\u884c\uff0c\u672b\u73ed\u8f66\u8fdb\u7ad9\u524d\u4e09\u5206\u949f\u505c\u552e\u8be5\u672b\u73ed\u8f66\u8f66\u7968\u3002"}),(0,u.jsx)("text",{textAnchor:"middle",fontSize:"12",className:"rmg-name__en",dx:"10",dy:"250",children:"Please pay attention to the interchange schedule if you want to transfer to other lines. Stop selling tickets 3 minutes before the last train services."}),(0,u.jsxs)("g",{transform:"translate(-600,215)",children:[(0,u.jsx)("rect",{x:"-5",y:"-25",width:"100",height:"70",fill:"none",stroke:"black",rx:"5"}),(0,u.jsx)("line",{x1:"28",x2:"28",y1:"-20",y2:"40",stroke:"black"}),(0,u.jsx)("text",{className:"rmg-name__zh",dx:"3",fontSize:"18",children:"\u56fe"}),(0,u.jsx)("text",{className:"rmg-name__zh",dx:"3",dy:"18",fontSize:"18",children:"\u4f8b"}),(0,u.jsx)("text",{className:"rmg-name__en",dy:"35",fontSize:"8",children:"legend"}),(0,u.jsx)("use",{transform:"translate(45,10)",xlinkHref:"#int2_indoor_sh",stroke:"var(--rmg-theme-colour)"}),(0,u.jsx)("text",{className:"rmg-name__zh",dx:"60",dy:"10",fontSize:"10",children:"\u6362\u4e58\u7ad9"}),(0,u.jsx)("text",{className:"rmg-name__en",dx:"60",dy:"20",fontSize:"6",children:"Interchange"}),(0,u.jsx)("text",{className:"rmg-name__en",dx:"60",dy:"30",fontSize:"6",children:"Station"})]})]})]})}),[n.svgWidth.indoor,n.svg_height,n.line_name])}},8359:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(3144),i=e(5671),s=e(136),a=e(4062),c=function(n){(0,s.Z)(e,n);var t=(0,a.Z)(e);function e(){var n;(0,i.Z)(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(n=t.call.apply(t,[this].concat(s))).leftWideFactor=function(t){var e=0,r=n.stnList[t].transfer,i=r.info.map((function(n){return n.length}));return"l"===r.tick_direc&&(!i[1]&&i[0]>1&&(e+=.8),!i[1]||1===i[0]&&2===i[1]||(e+=.8)),1===i[0]&&2===i[1]&&"linestart"!==n.stnList[t].parents[0]&&"lineend"!==n.stnList[t].children[0]&&(e+=.8),2===n.stnList[t].parents.length&&(e+=.4),2===n.stnList[n.stnList[t].parents[0]].children.length&&(e+=.4),e},n.rightWideFactor=function(t){var e=0,r=n.stnList[t].transfer,i=r.info.map((function(n){return n.length}));return"r"===r.tick_direc&&(!i[1]&&i[0]>1&&(e+=.8),!i[1]||1===i[0]&&2===i[1]||(e+=.8)),1===i[0]&&2===i[1]&&"linestart"!==n.stnList[t].parents[0]&&"lineend"!==n.stnList[t].children[0]&&(e+=.8),2===n.stnList[t].children.length&&(e+=.4),2===n.stnList[n.stnList[t].children[0]].parents.length&&(e+=.4),e},n}return(0,r.Z)(e)}(e(3824).LD)},3824:function(n,t,e){e.d(t,{Az:function(){return h},QE:function(){return d},ML:function(){return f},h6:function(){return m},LD:function(){return g},pS:function(){return x}});var r=e(9439),i=e(5671),s=e(3144),a=e(3433),c=e(7762),o=e(4942),l=e(1413),u=e(713),h=function(n,t,e){return Object.keys(n).reduce((function(r,i){return(0,l.Z)((0,l.Z)({},r),{},(0,o.Z)({},i,n[i].children.reduce((function(r,s){return(0,l.Z)((0,l.Z)({},r),{},(0,o.Z)({},s,1+t(n,s)+e(n,i)))}),{})))}),{})},d=function n(t,e,r){if(t===e)return{len:0,nodes:[t]};var i=[],s=[];Object.keys(r[t]).forEach((function(a){var c=n(a,e,r);c.len<0||(i.push(r[t][a]+c.len),c.nodes.unshift(t),s.push(c.nodes))}));var a=Math.max.apply(Math,i);return{len:a,nodes:s[i.indexOf(a)]}},f=function(n,t,e){var r=d("linestart","lineend",t);if(r.nodes.includes(n))return d(r.nodes[1],n,t).len;for(var i=e.filter((function(t){return t.includes(n)}))[0],s=n;!r.nodes.includes(s);)s=i[i.indexOf(s)-1];for(var a=n;!r.nodes.includes(a);)a=i[i.indexOf(a)+1];var c="linestart"===s,o=[];return c||"lineend"===a?c?(o[0]=0,o[1]=d(r.nodes[1],a,t).len,o[2]=d(i[1],n,t).len,o[3]=d(n,a,t).len):(o[0]=d(r.nodes[1],s,t).len,o[1]=d(s,r.nodes.slice(-2)[0],t).len,o[2]=d(s,n,t).len,o[3]=d(n,i.slice(-2)[0],t).len):(o[0]=d(r.nodes[1],s,t).len,o[1]=d(s,a,t).len,o[2]=d(s,n,t).len,o[3]=d(n,a,t).len),o[0]+o[2]*o[1]/(o[2]+o[3])},m=function(n,t,e){var r;return console.log("computing stations' states"),(0,a.Z)(new Set((r=[]).concat.apply(r,(0,a.Z)(t)))).reduce((function(r,i){return(0,l.Z)((0,l.Z)({},r),{},(0,o.Z)({},i,i===n?0:(e===u.wA.right?function(n,t,e){var r,i=(0,c.Z)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value,a=s.indexOf(n),o=s.indexOf(t);if(-1!==a&&a<o)return!0}}catch(l){i.e(l)}finally{i.f()}return!1}(n,i,t):function(n,t,e){var r,i=(0,c.Z)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value,a=s.indexOf(n),o=s.indexOf(t);if(-1!==o&&o<a)return!0}}catch(l){i.e(l)}finally{i.f()}return!1}(n,i,t))?1:-1))}),{})},g=function(){function n(t){var e=this;(0,i.Z)(this,n),this.yShares={},this.xShares={},this.namePoss={},this.stnList={},this.criticalPath={},this.leftWideFactor=function(n){return 0},this.rightWideFactor=function(n){return 0},this.pathWeight=function(n,t){return e.stnList[n].children.includes(t)?1+e.rightWideFactor(n)+e.leftWideFactor(t):-1/0},this.pathTurnParams=function(n){var t=35-17.5*Math.sqrt(3),e=n-2*t;return{tr:35,dx_a:17.5,dy_a:t,dx_l:e*Math.sqrt(3),dy_l:e}},this.pathTurnSE=function(n){var t=e.pathTurnParams(n),r=t.tr,i=t.dx_a,s=t.dy_a,a=t.dx_l,c=t.dy_l;return"a ".concat(r,",").concat(r," 0 0,1 ").concat(i,",").concat(s," l ").concat(a,",").concat(c," a ").concat(r,",").concat(r," 0 0,0 ").concat(i,",").concat(s)},this.pathTurnNE=function(n){var t=e.pathTurnParams(n),r=t.tr,i=t.dx_a,s=t.dy_a,a=t.dx_l,c=t.dy_l;return"a ".concat(r,",").concat(r," 0 0,0 ").concat(i,",").concat(-s," l ").concat(a,",").concat(-c," a ").concat(r,",").concat(r," 0 0,1 ").concat(i,",").concat(-s)},this.stnList=t.stnList,this.criticalPath=t.criticalPath}return(0,s.Z)(n,[{key:"getYShare",value:function(n,t){if(n in this.yShares)return this.yShares[n];if(["linestart","lineend"].includes(n)||this.stnList[n].parents.length>1||this.stnList[n].children.length>1)return this.yShares[n]=0,0;var e=this.stnList[n].parents[0];if(e){if(1===this.stnList[e].children.length){var r=this.getYShare(e);return this.yShares[n]=r,r}var i=0===this.stnList[e].children.indexOf(n)?1:-1;return this.yShares[n]=i,i}return this.yShares[n]=0,0}},{key:"_linePath",value:function(n,t,e,i,s,a,c,o){var l=this,u=(0,r.Z)([],3),h=u[0],d=u[1],f=u[2],m=[],g=this.pathTurnParams(a),x=g.dx_a+g.dx_l/2,p=(t[1]-t[0])/c.len*2,_=((t[1]-t[0])/c.len-2*x)/2;return _+p<0&&console.warn("SVG width too small! ".concat(_+p)),n.forEach((function(t){var r=i[t],c=s[t];if(!d&&0!==d)return h=t,f=r,d=c,void(1===n.length?m.push("M ".concat(r,",").concat(c)):e[0].includes(t)?e[0].includes(n[1])?m.push("M ".concat(r,",").concat(c)):(i[n[1]]>0&&m.push("M ".concat(r,",").concat(c+o)),s[n[1]]<0&&m.push("M ".concat(r,",").concat(c-o))):m.push("M ".concat(r,",").concat(c)));c>d?(m.push("h ".concat(0===c?r-f-p*l.leftWideFactor(t)-_-2*x:p*l.rightWideFactor(h)+_)),m.push(l.pathTurnSE(a))):c<d&&(m.push("h ".concat(0===c?r-f-p*l.leftWideFactor(t)-_-2*x:p*l.rightWideFactor(h)+_)),m.push(l.pathTurnNE(a))),m.push("H ".concat(r)),h=t,f=r,d=c})),m.join(" ").replace(/( H ([\d.]+))+/g," H $2")}}],[{key:"getYShares",value:function(n,t){console.log("computing y shares");var e=new this({stnList:n});return Object.keys(n).forEach((function(n){["linestart","lineend"].includes(n)||n in e.yShares||e.getYShare(n,t)})),e.yShares}},{key:"drawLine",value:function(n,t,e,r,i,s,a,c){var o=this,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:9.68,u={main:[],pass:[]};return n.forEach((function(h,d){var f=(h=h.filter((function(n){return!["linestart","lineend"].includes(n)}))).filter((function(n){return t[n]>=0})),m=h.filter((function(n){return t[n]<=0}));1===f.length&&(m=h),0===f.filter((function(n){return-1!==m.indexOf(n)})).length&&f.length&&(m[0]===h[0]?m.push(f[0]):f[0]===h[0]&&f[f.length-1]===h[h.length-1]&&m.length?(m=h,f=[]):m.unshift(f[f.length-1])),u.main.push(new o({stnList:e,criticalPath:c})._linePath(f,r,n,i,s,a,c,l)),u.pass.push(new o({stnList:e,criticalPath:c})._linePath(m,r,n,i,s,a,c,l))})),u}}]),n}(),x=function(n,t){var e={main:[],pass:[]};return n.forEach((function(n){var r=(n=n.filter((function(n){return!["linestart","lineend"].includes(n)}))).filter((function(n){return t[n]>=0})),i=n.filter((function(n){return t[n]<=0}));1===r.length&&(i=n),0===r.filter((function(n){return-1!==i.indexOf(n)})).length&&r.length&&(i[0]===n[0]?i.push(r[0]):r[0]===n[0]&&r[r.length-1]===n[n.length-1]&&i.length?(i=n,r=[]):i.unshift(r[r.length-1])),e.main.push(r),e.pass.push(i)})),e}}}]);
//# sourceMappingURL=indoorSHMetro.958e4544.chunk.js.map